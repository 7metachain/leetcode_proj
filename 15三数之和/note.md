# 15. ä¸‰æ•°ä¹‹å’Œ â€”â€” å­¦ä¹ ç¬”è®°

---

## ğŸ“Œ ä¸€ã€é—®é¢˜æœ¬è´¨

ç»™å®šæ•°ç»„ `nums`ï¼Œæ‰¾å‡ºæ‰€æœ‰ **ä¸é‡å¤** çš„ä¸‰å…ƒç»„ï¼š

```
nums[i] + nums[j] + nums[k] == 0
```

**æ ¸å¿ƒéš¾ç‚¹åªæœ‰ä¸¤ä¸ªï¼š**
1. **æ—¶é—´å¤æ‚åº¦**ï¼ˆnÂ³ è‚¯å®šè¶…æ—¶ï¼‰
2. **å»é‡**ï¼ˆç»“æœä¸èƒ½é‡å¤ï¼‰

---

## ğŸ§  äºŒã€æ‰€æœ‰å¯è¡Œè§£é¢˜æ€è·¯æ€»è§ˆ

### æ€è·¯ 1ï¼šæš´åŠ›æšä¸¾ï¼ˆâŒ ä¸å¯ç”¨ï¼‰

- ä¸‰é‡å¾ªç¯
- æ—¶é—´å¤æ‚åº¦ï¼š`O(nÂ³)`
- ç›´æ¥è¶…æ—¶ï¼ˆn â‰¤ 3000ï¼‰

âŒ ä»…ç”¨äºç†è§£é—®é¢˜ï¼Œä¸å¯å®ç°

---

### æ€è·¯ 2ï¼šæ’åº + Hashï¼ˆâš ï¸ å¯è¡Œä½†ä¸æœ€ä¼˜ï¼‰

**åšæ³•ï¼š**
1. æ’åº
2. å›ºå®š `i`ã€`j`
3. ç”¨ HashSet æŸ¥ `-(nums[i]+nums[j])`

**å¤æ‚åº¦ï¼š**
- æ—¶é—´ï¼š`O(nÂ²)`
- ç©ºé—´ï¼š`O(n)`

**é—®é¢˜ï¼š**
- å»é‡å¤æ‚
- å®ç°ä¸ä¼˜é›…

âš ï¸ å¯ä»¥ ACï¼Œä½†ä¸æ˜¯é¢è¯• / åˆ·é¢˜é¦–é€‰

---

### âœ… æ€è·¯ 3ï¼ˆæœ€ä¼˜ & æ ‡å‡†ï¼‰ï¼šæ’åº + å›ºå®šä¸€ä¸ªæ•° + åŒæŒ‡é’ˆ

ä½ å½“å‰æ€è·¯çš„"æ­£ç¡®å‡çº§ç‰ˆ"

**æ ¸å¿ƒæ€æƒ³ï¼š**
> æŠŠ 3Sum è½¬åŒ–æˆ **å¤šæ¬¡ 2Sum**

---

## ğŸ”‘ ä¸‰ã€ä¸ºä»€ä¹ˆè¦ã€Œå›ºå®šä¸€ä¸ªæ•°ã€

ä½ ä¹‹å‰å¡ä½çš„å…³é”®åŸå› æ˜¯ï¼š

> âŒ åªåœ¨æ­£è´Ÿåˆ†ç•Œç‚¹æ”¾ä¸¤ä¸ªæŒ‡é’ˆï¼Œç¬¬ä¸‰ä¸ªæ•°ä¸å›ºå®šï¼ŒæŒ‡é’ˆç§»åŠ¨æ²¡æœ‰å•è°ƒæ€§

ä¸€æ—¦ä½  **å›ºå®š `nums[i]`**ï¼š
- å‰©ä¸‹çš„åŒºé—´æ˜¯ **æœ‰åºæ•°ç»„**
- ä¸‰æ•°å’Œå¯¹ `l` / `r` çš„ç§»åŠ¨æ˜¯å•è°ƒå¯æ§çš„
- æŒ‡é’ˆç§»åŠ¨è§„åˆ™å˜å¾—éå¸¸æ¸…æ™°

---

## ğŸš¦ å››ã€åŒæŒ‡é’ˆç§»åŠ¨è§„åˆ™ï¼ˆä¸€å®šè¦èƒŒç†Ÿï¼‰

æ’åºåï¼Œå›ºå®š `i`ï¼ŒæŒ‡é’ˆ `l = i + 1`, `r = n - 1`

è®¾ï¼š
```
s = nums[i] + nums[l] + nums[r]
```

| s çš„å¤§å° | è¯´æ˜ | æŒ‡é’ˆæ€ä¹ˆåŠ¨ |
|----------|------|------------|
| `s == 0` | æ‰¾åˆ°ç­”æ¡ˆ | `l++`, `r--` |
| `s < 0` | å’Œå¤ªå° | `l++` |
| `s > 0` | å’Œå¤ªå¤§ | `r--` |

ğŸ‘‰ **åŸå› ï¼š**
- æ’åºåï¼Œ`l++` â†’ å’Œä¸€å®šå˜å¤§
- `r--` â†’ å’Œä¸€å®šå˜å°

---

## ğŸ§¹ äº”ã€å»é‡è§„åˆ™ï¼ˆæœ€å®¹æ˜“ WA çš„ç‚¹ï¼‰

### 1ï¸âƒ£ i çš„å»é‡

```cpp
if (i > 0 && nums[i] == nums[i - 1]) continue;
```

### 2ï¸âƒ£ æ‰¾åˆ°ä¸€ç»„è§£åçš„å»é‡

```cpp
l++; r--;
while (l < r && nums[l] == nums[l - 1]) l++;
while (l < r && nums[r] == nums[r + 1]) r--;
```

---

## âœ‚ï¸ å…­ã€å…³é”®å‰ªæï¼ˆæå‡æ•ˆç‡ï¼‰

æ’åºåï¼š

```cpp
if (nums[i] > 0) break;
```

å› ä¸ºåé¢å…¨æ˜¯ `â‰¥ 0`ï¼Œä¸å¯èƒ½å†å‡‘å‡º 0

---

## ğŸ§© ä¸ƒã€å®Œæ•´ C++ è§£æ³•ï¼ˆæ¨èèƒŒç†Ÿï¼‰

```cpp
class Solution {
public:
    vector<vector<int>> threeSum(vector<int>& nums) {
        vector<vector<int>> ans;
        sort(nums.begin(), nums.end());
        int n = nums.size();

        for (int i = 0; i < n - 2; i++) {
            if (nums[i] > 0) break;                        // å‰ªæ
            if (i > 0 && nums[i] == nums[i - 1]) continue; // i å»é‡

            int l = i + 1, r = n - 1;
            while (l < r) {
                long long s = (long long)nums[i] + nums[l] + nums[r];
                if (s == 0) {
                    ans.push_back({nums[i], nums[l], nums[r]});
                    l++; r--;
                    while (l < r && nums[l] == nums[l - 1]) l++; // l å»é‡
                    while (l < r && nums[r] == nums[r + 1]) r--; // r å»é‡
                } else if (s < 0) {
                    l++;
                } else {
                    r--;
                }
            }
        }
        return ans;
    }
};
```

---

## ğŸ å…«ã€Python3 è§£æ³•ï¼ˆé€»è¾‘å®Œå…¨ä¸€è‡´ï¼‰

```python
class Solution:
    def threeSum(self, nums):
        nums.sort()
        res = []
        n = len(nums)

        for i in range(n - 2):
            if nums[i] > 0:
                break
            if i > 0 and nums[i] == nums[i - 1]:
                continue

            l, r = i + 1, n - 1
            while l < r:
                s = nums[i] + nums[l] + nums[r]
                if s == 0:
                    res.append([nums[i], nums[l], nums[r]])
                    l += 1
                    r -= 1
                    while l < r and nums[l] == nums[l - 1]:
                        l += 1
                    while l < r and nums[r] == nums[r + 1]:
                        r -= 1
                elif s < 0:
                    l += 1
                else:
                    r -= 1

        return res
```

---

## ğŸ§  ä¹ã€æŠŠä½ æœ€åˆçš„ç›´è§‰æ”¾åˆ°æ­£ç¡®æ¡†æ¶é‡Œ

ä½ çš„æƒ³æ³•å…¶å®æ˜¯å¯¹çš„ï¼š
- âœ… æ’åº
- âœ… æ­£è´Ÿåˆ†ç•Œ
- âŒ ä½†æ²¡æœ‰å›ºå®šç¬¬ä¸‰ä¸ªæ•°

**æ­£ç¡®ç†è§£æ˜¯ï¼š**
> æ¯æ¬¡å›ºå®šä¸€ä¸ªæ•° `nums[i]`ï¼Œå®ƒæœ¬èº«å°±å†³å®šäº†"åˆ†ç•Œç‚¹åº”è¯¥æ€ä¹ˆèµ°"

---

## ğŸ¯ åã€ä¸€å¥è¯æ€»ç»“ï¼ˆé¢è¯•å¯ç”¨ï¼‰

> **ä¸‰æ•°ä¹‹å’Œ = æ’åº + å›ºå®šä¸€ä¸ªæ•° + åœ¨å‰©ä½™åŒºé—´ç”¨åŒæŒ‡é’ˆåšä¸¤æ•°ä¹‹å’Œï¼Œå¹¶ä¸¥æ ¼å»é‡**

---

## ğŸ“¦ æœ¬åœ°è¿è¡Œ

### æ–‡ä»¶
- `three_sum.py`
- `three_sum.cpp`

### è¾“å…¥æ ¼å¼ï¼ˆæ¯è¡Œä¸€ç»„ï¼Œç›´åˆ° EOF é€€å‡ºï¼‰
- `[-1,0,1,2,-1,-4]`
- `-1 0 1 2 -1 -4`
- `-1, 0, 1, 2, -1, -4`

### è¿è¡Œå‘½ä»¤
```bash
# Python
python3 three_sum.py

# C++
g++ -std=c++17 three_sum.cpp -o three_sum && ./three_sum
```

### ç¤ºä¾‹
```
è¾“å…¥ï¼š[-1,0,1,2,-1,-4]
è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]

è¾“å…¥ï¼š[0,0,0]
è¾“å‡ºï¼š[[0,0,0]]
```
