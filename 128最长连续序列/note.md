## 1ï¸âƒ£ é¢˜ç›®åŸæ–‡

**é¢˜ç›®æè¿°ï¼š**
ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ `nums`ï¼Œæ‰¾å‡ºæ•°å­—è¿ç»­çš„æœ€é•¿åºåˆ—ï¼ˆ**ä¸è¦æ±‚åºåˆ—å…ƒç´ åœ¨åŸæ•°ç»„ä¸­è¿ç»­**ï¼‰çš„é•¿åº¦ã€‚

**è¦æ±‚ï¼š**
è¯·ä½ è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º **O(n)** çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

**ç¤ºä¾‹ï¼š**

* è¾“å…¥ï¼š`[100,4,200,1,3,2]`
  è¾“å‡ºï¼š`4`
  è§£é‡Šï¼šæœ€é•¿è¿ç»­åºåˆ—æ˜¯ `[1,2,3,4]`

---

## 2ï¸âƒ£ è§£é¢˜æ€è·¯ï¼ˆæ ¸å¿ƒæ€æƒ³ï¼‰

### ğŸŒŸ æ ¸å¿ƒé—®é¢˜è½¬åŒ–

* è¿ç»­åºåˆ—æŒ‡çš„æ˜¯ï¼š`x, x+1, x+2 ...`
* ä¸æ•°ç»„ä¸‹æ ‡ã€é¡ºåº **æ— å…³**
* å…³é”®æ˜¯ï¼š**åˆ¤æ–­æŸä¸ªæ•°æ˜¯å¦å­˜åœ¨**

---

### ğŸŒŸ ä¸ºä»€ä¹ˆè¦ç”¨å“ˆå¸Œï¼ˆsetï¼‰ï¼Ÿ

* `set` å¯ä»¥ï¼š

  * è‡ªåŠ¨å»é‡
  * **O(1)** åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨
* é¿å…æ’åºå¸¦æ¥çš„ `O(n log n)`

---

### ğŸŒŸ æ ¸å¿ƒç­–ç•¥ï¼šåªä»ã€Œè¿ç»­åºåˆ—çš„èµ·ç‚¹ã€å¼€å§‹ç»Ÿè®¡

**èµ·ç‚¹å®šä¹‰ï¼š**

* å¦‚æœ `x-1` ä¸åœ¨é›†åˆä¸­ï¼Œé‚£ä¹ˆ `x` ä¸€å®šæ˜¯æŸä¸ªè¿ç»­åºåˆ—çš„æœ€å·¦ç«¯ï¼ˆèµ·ç‚¹ï¼‰

**ä¸ºä»€ä¹ˆåªä»èµ·ç‚¹å¼€å§‹ï¼Ÿ**

* é˜²æ­¢é‡å¤ç»Ÿè®¡
* æ¯ä¸ªæ•°å­—æœ€å¤šè¢«è®¿é—®ä¸€æ¬¡ â†’ O(n)

---

### ğŸŒŸ æ•´ä½“æµç¨‹

1. æŠŠæ‰€æœ‰æ•°å­—æ”¾è¿› `set`
2. éå† `set` ä¸­çš„æ¯ä¸ªæ•° `x`
3. å¦‚æœ `x-1` ä¸åœ¨ `set`ï¼š

   * ä» `x` å¼€å§‹ä¸æ–­åˆ¤æ–­ `x+1, x+2 ...` æ˜¯å¦å­˜åœ¨
4. ç»Ÿè®¡é•¿åº¦ï¼Œæ›´æ–°æœ€å¤§å€¼

---

## 3ï¸âƒ£ ä¸¤ç§è¯­è¨€çš„è§£æ³•

### âœ… Python è§£æ³•ï¼ˆO(n)ï¼‰

```python
from typing import List

class Solution:
    def longestConsecutive(self, nums: List[int]) -> int:
        s = set(nums)
        ans = 0

        for x in s:
            if x - 1 not in s:   # x æ˜¯èµ·ç‚¹
                cur = x
                while cur in s:
                    cur += 1
                ans = max(ans, cur - x)

        return ans
```

---

### âœ… C++ è§£æ³•ï¼ˆO(n)ï¼‰

```cpp
#include <vector>
#include <unordered_set>
#include <algorithm>
using namespace std;

class Solution {
public:
    int longestConsecutive(vector<int>& nums) {
        unordered_set<int> s(nums.begin(), nums.end());
        int ans = 0;

        for (int x : s) {
            if (s.count(x - 1) == 0) {  // x æ˜¯èµ·ç‚¹
                int cur = x;
                while (s.count(cur)) {
                    cur++;
                }
                ans = max(ans, cur - x);
            }
        }
        return ans;
    }
};
```

---

## 4ï¸âƒ£ æˆ‘çš„å¡ç‚¹ & ä½ çš„å¼•å¯¼ï¼ˆå­¦ä¹ å¤ç›˜ï¼‰

### âŒ æˆ‘çš„å¡ç‚¹

1. **ä¸€å¼€å§‹çš„æ€è·¯**

   * æƒ³åˆ°äº†æ’åº + å»é‡
   * ä½†ä¸çŸ¥é“å¦‚ä½•ä»æ’åºåçš„æ•°ç»„ä¸­æ‰¾åˆ°æœ€é•¿è¿ç»­åºåˆ—

2. **å…³é”®å›°æƒ‘**

   * ä¸ç†è§£ä¸ºä»€ä¹ˆè¦ç”¨å“ˆå¸Œ
   * ä¸ç†è§£ï¼š

     * `for x in s` ä¸ºä»€ä¹ˆèƒ½éå†é›†åˆ
     * ä¸ºä»€ä¹ˆä¸ä»æ¯ä¸ªæ•°éƒ½å¼€å§‹æ‰©å±•

---

### âœ… ä½ çš„å¼•å¯¼è®©æˆ‘ç†è§£çš„ç‚¹

1. **è¿ç»­åºåˆ—çš„æœ¬è´¨**

   * è¿ç»­ â‰  åŸæ•°ç»„ç›¸é‚»
   * è¿ç»­ = æ•°å€¼ç›¸é‚»ï¼ˆx, x+1ï¼‰

2. **èµ·ç‚¹æ€æƒ³æ˜¯å…³é”®**

   * `x-1` ä¸å­˜åœ¨ â‡’ x æ˜¯å”¯ä¸€åˆæ³•èµ·ç‚¹
   * åªä»èµ·ç‚¹æ‰©å±•ï¼Œé¿å…é‡å¤è®¡ç®—

3. **set æ˜¯â€œèƒ½éå†çš„å“ˆå¸Œå®¹å™¨â€**

   * Pythonï¼š`for x in set`
   * C++ï¼š`for (int x : unordered_set)`
   * éå†é¡ºåºä¸é‡è¦ï¼Œåªå…³å¿ƒå­˜åœ¨æ€§

4. **æ—¶é—´å¤æ‚åº¦çš„ç›´è§‰ç†è§£**

   * æ¯ä¸ªæ•°æœ€å¤šï¼š

     * è¢«éå†ä¸€æ¬¡
     * è¢« while æ‰©å±•è®¿é—®ä¸€æ¬¡
   * æ€»ä½“ä»ç„¶æ˜¯ O(n)

---

## ğŸ§  ä¸€å¥è¯æ€»ç»“ï¼ˆå¯èƒŒï¼‰

> **"ç”¨ set åš O(1) æŸ¥æ‰¾ï¼Œåªä» x-1 ä¸å­˜åœ¨çš„æ•°å¼€å§‹å‘å³æ‰©å±•ã€‚"**

---

## ğŸ“¦ æœ¬åœ°è¿è¡Œ

### æ–‡ä»¶
- `longest_consecutive.py`
- `longest_consecutive.cpp`

### è¾“å…¥æ ¼å¼ï¼ˆæ¯è¡Œä¸€ç»„ï¼Œæ”¯æŒå¤šç§å†™æ³•ï¼Œç›´åˆ° EOF é€€å‡ºï¼‰
- `[100,4,200,1,3,2]`
- `100 4 200 1 3 2`
- `100, 4, 200, 1, 3, 2`

### è¿è¡Œå‘½ä»¤
```bash
# Python
python3 longest_consecutive.py

# C++
g++ -std=c++17 longest_consecutive.cpp -o longest_consecutive && ./longest_consecutive
```

### ç¤ºä¾‹
```
è¾“å…¥ï¼š[100,4,200,1,3,2]
è¾“å‡ºï¼š4