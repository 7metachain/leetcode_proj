# 49. å­—æ¯å¼‚ä½è¯åˆ†ç»„ â€”â€” å­¦ä¹ ç¬”è®°

## ä¸€ã€é¢˜ç›®æœ¬è´¨ç†è§£ï¼ˆåŸºäºæˆ‘çš„åŸå§‹ç›´è§‰ï¼‰

### ä»€ä¹ˆæ˜¯å­—æ¯å¼‚ä½è¯ï¼Ÿ

* ä¸¤ä¸ªå•è¯å¦‚æœï¼š

  * å­—æ¯ç§ç±»å®Œå…¨ä¸€æ ·
  * æ¯ç§å­—æ¯å‡ºç°æ¬¡æ•°å®Œå…¨ä¸€æ ·
  * åªæ˜¯é¡ºåºä¸åŒ
* é‚£å®ƒä»¬äº’ä¸º **å­—æ¯å¼‚ä½è¯ï¼ˆAnagramï¼‰**

ä¾‹å¦‚ï¼š

* "eat" / "tea" / "ate"
* "tan" / "nat"

---

## äºŒã€æˆ‘æœ€åˆçš„ç›´è§‰æ€è·¯ï¼ˆå®Œå…¨åˆç†ï¼Œä½†æ•ˆç‡åä½ï¼‰

### æˆ‘çš„åŸå§‹æƒ³æ³•æ˜¯ï¼š

1. ç»´æŠ¤ä¸€ä¸ªã€Œç»“æœæ•°ç»„ã€ï¼ˆæ•°ç»„çš„æ•°ç»„ï¼‰
2. éå†è¾“å…¥å­—ç¬¦ä¸²æ•°ç»„
3. å¯¹æ¯ä¸€ä¸ªæ–°å•è¯ï¼š

   * å»å·²ç»å­˜åœ¨çš„æ¯ä¸€ä¸ªåˆ†ç»„é‡Œæ¯”è¾ƒ
   * åˆ¤æ–­æ˜¯å¦æ˜¯æŸä¸€ç»„çš„å¼‚ä½è¯
   * å¦‚æœæ˜¯ï¼Œå°±åŠ å…¥é‚£ä¸€ç»„
   * å¦‚æœéƒ½ä¸æ˜¯ï¼Œå°±æ–°å»ºä¸€ä¸ªåˆ†ç»„

### è¿™ä¸ªæ€è·¯çš„é—®é¢˜ä¸æ˜¯â€œé”™â€ï¼Œè€Œæ˜¯ï¼š

* æ¯æ¥ä¸€ä¸ªæ–°å•è¯
* éƒ½è¦å’Œ **å·²æœ‰çš„æ¯ä¸€ç»„** æ¯”è¾ƒ
* è€Œâ€œåˆ¤æ–­æ˜¯å¦å¼‚ä½è¯â€æœ¬èº«ä¹Ÿè¦æ—¶é—´

ğŸ‘‰ **æ•´ä½“æ¥è¿‘ O(nÂ²)**ï¼Œæ•°æ®ä¸€å¤§å°±ä¼šæ…¢

---

## ä¸‰ã€å¯¹ç›´è§‰çš„â€œä¿®æ­£å‡çº§â€ï¼ˆå…³é”®æ€æƒ³ï¼‰

### æ ¸å¿ƒè½¬å˜ï¼š

ğŸ‘‰ **ä¸è¦â€œé€ç»„æ¯”è¾ƒâ€ï¼Œè€Œæ˜¯â€œç›´æ¥å®šä½åˆ†ç»„â€**

### æ€ä¹ˆåšåˆ°ï¼Ÿ

ç»™æ¯ä¸ªå•è¯ç”Ÿæˆä¸€ä¸ª **å”¯ä¸€çš„â€œèº«ä»½æ ‡è¯†ï¼ˆkeyï¼‰â€**ï¼š

* åªè¦ä¸¤ä¸ªå•è¯æ˜¯å¼‚ä½è¯
* å®ƒä»¬çš„ key å°±ä¸€å®šä¸€æ ·

è¿™æ ·å°±å¯ä»¥ï¼š

* ç”¨å“ˆå¸Œè¡¨ï¼š`key -> è¿™ä¸€ç»„å•è¯`
* æ¯ä¸ªå•è¯ **ä¸€æ­¥åˆ°ä½** æ‰¾åˆ°è‡ªå·±çš„åˆ†ç»„

---

## å››ã€æœ€ç›´è§‚çš„ keyï¼šæ’åºåçš„å­—ç¬¦ä¸²

### ä¸ºä»€ä¹ˆæ’åºå¯ä»¥å½“ keyï¼Ÿ

ä¾‹å­ï¼š

| å•è¯  | æ’åºå |
| --- | --- |
| eat | aet |
| tea | aet |
| ate | aet |
| tan | ant |
| nat | ant |

ç»“è®ºï¼š

* **å¼‚ä½è¯æ’åºåä¸€å®šç›¸åŒ**
* æ’åºåçš„å­—ç¬¦ä¸²å¯ä»¥ä½œä¸ºå“ˆå¸Œè¡¨çš„ key

---

## äº”ã€æœ€ç»ˆç»Ÿä¸€æ€è·¯ï¼ˆç®—æ³•æ¨¡å‹ï¼‰

1. åˆ›å»ºå“ˆå¸Œè¡¨ï¼š`key -> list`
2. éå†å­—ç¬¦ä¸²æ•°ç»„
3. å¯¹æ¯ä¸ªå­—ç¬¦ä¸²ï¼š

   * ç”Ÿæˆæ’åºåçš„ key
   * æ”¾å…¥ `map[key]` å¯¹åº”çš„åˆ—è¡¨
4. è¿”å›å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰çš„ value

æ—¶é—´å¤æ‚åº¦ï¼š

* `O(n Â· L log L)`ï¼ˆL æ˜¯å•è¯é•¿åº¦ï¼‰
* åœ¨æœ¬é¢˜èŒƒå›´å†…å®Œå…¨å¯æ¥å—

---

## å…­ã€Python3 è§£æ³•ï¼ˆæ’åº keyï¼‰

```python
from collections import defaultdict
from typing import List

class Solution:
    def groupAnagrams(self, strs: List[str]) -> List[List[str]]:
        mp = defaultdict(list)

        for s in strs:
            key = ''.join(sorted(s))
            mp[key].append(s)

        return list(mp.values())
```

### Python è¯­æ³•è¦ç‚¹

* `defaultdict(list)`ï¼šè‡ªåŠ¨ä¸ºæ–° key åˆ›å»ºç©ºåˆ—è¡¨
* `sorted(s)`ï¼šè¿”å›æ’åºåçš„å­—ç¬¦åˆ—è¡¨
* `''.join(...)`ï¼šæŠŠå­—ç¬¦åˆ—è¡¨æ‹¼æˆå­—ç¬¦ä¸²

---

## ä¸ƒã€C++ è§£æ³•ï¼ˆæ’åº keyï¼‰

```cpp
#include <bits/stdc++.h>
using namespace std;

class Solution {
public:
    vector<vector<string>> groupAnagrams(vector<string>& strs) {
        unordered_map<string, vector<string>> mp;

        for (auto &s : strs) {
            string key = s;                 // æ‹·è´åŸå­—ç¬¦ä¸²
            sort(key.begin(), key.end());   // æ’åºä½œä¸º key
            mp[key].push_back(s);
        }

        vector<vector<string>> res;
        for (auto &p : mp) {
            res.push_back(p.second);
        }
        return res;
    }
};
```

### C++ è¯­æ³•è¦ç‚¹

* `unordered_map<key, value>`ï¼šå“ˆå¸Œè¡¨
* `sort(begin, end)`ï¼šSTL æ’åº
* `mp[key]`ï¼šè‹¥ key ä¸å­˜åœ¨ä¼šè‡ªåŠ¨åˆ›å»º value

---

## å…«ã€æ€ç»´æ–¹å¼æ€»ç»“ï¼ˆéå¸¸é‡è¦ï¼‰

### æˆ‘çš„åŸå§‹ç›´è§‰æ˜¯ï¼š

> â€œæ¯æ¥ä¸€ä¸ªæ–°è¯ï¼Œå°±å»é—®ï¼šä½ å±äºå“ªä¸€ç»„ï¼Ÿâ€

### å“ˆå¸Œè¡¨æ€ç»´æ˜¯ï¼š

> â€œå…ˆç»™ä½ ä¸€ä¸ªèº«ä»½è¯ï¼Œå†ç›´æ¥å‘Šè¯‰ä½ å±äºå“ªä¸€ç»„â€

ğŸ‘‰ æœ¬è´¨å˜åŒ–ï¼š

* **æ¯”è¾ƒé—®é¢˜ â†’ æ˜ å°„é—®é¢˜**
* **O(nÂ²) â†’ O(n)**

---

## ä¹ã€è¿™é“é¢˜çœŸæ­£æ•™ä¼šæˆ‘çš„ä¸œè¥¿

1. å“ˆå¸Œè¡¨çš„æ ¸å¿ƒç”¨é€”ï¼š**åˆ†ç»„ã€åˆ†ç±»ã€æ˜ å°„**
2. key çš„è®¾è®¡å†³å®šäº†ç®—æ³•æ•ˆç‡
3. â€œç›´è§‰æ˜¯å¯¹çš„ï¼Œä½†éœ€è¦æŠ½è±¡å‡çº§â€

---

## åã€å¯ä»¥è¿ç§»åˆ°çš„åŒç±»é¢˜

* 1. ä¸¤æ•°ä¹‹å’Œï¼ˆTwo Sumï¼‰
* 49. å­—æ¯å¼‚ä½è¯åˆ†ç»„ï¼ˆæœ¬é¢˜ï¼‰
* 128. æœ€é•¿è¿ç»­åºåˆ—
* 560. å’Œä¸º K çš„å­æ•°ç»„

ğŸ‘‰ æœ¬è´¨éƒ½æ˜¯ï¼š**ç”¨å“ˆå¸Œè¡¨æ¶ˆç­é‡å¤æ¯”è¾ƒ**

---

## åä¸€ã€æœ¬åœ°è¿è¡Œ

### æ–‡ä»¶
- `group_anagrams.py`
- `group_anagrams.cpp`

### è¾“å…¥æ ¼å¼ï¼ˆæ¯è¡Œä¸€ç»„ï¼Œæ”¯æŒå¤šç§å†™æ³•ï¼Œç›´åˆ° EOF é€€å‡ºï¼‰
- `["eat","tea","tan","ate","nat","bat"]`
- `eat tea tan ate nat bat`
- `eat, tea, tan, ate, nat, bat`

### è¿è¡Œå‘½ä»¤
```bash
# Python
python3 group_anagrams.py

# C++
g++ -std=c++17 group_anagrams.cpp -o group_anagrams && ./group_anagrams
```

### ç¤ºä¾‹
```
è¾“å…¥ï¼š["eat","tea","tan","ate","nat","bat"]
è¾“å‡ºï¼š[["eat","tea","ate"],["tan","nat"],["bat"]]
```

> æ³¨ï¼šå“ˆå¸Œè¡¨ä¸ä¿è¯åˆ†ç»„é¡ºåºï¼Œä½†æ¯ç»„å†…å®¹æ­£ç¡®å³å¯ã€‚
